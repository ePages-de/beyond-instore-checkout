function formLock(o,t,e){t=t||"locked",e=e||3e3,o.data(t,!0),window.setTimeout(function(){o.removeData(t)},e)}function formUnlock(o,t){t=t||"locked",o.removeData(t)}function isFormLocked(o,t){return t=t||"locked",!0===o.data(t)}function formResetErrors(o){$("input, select",o).removeClass("input-validation-error")}function preventResubmit(){$("form:not([data-transmission=ajax])").submit(function(o){var t=$(this);t.data("submit-disabled")?o.preventDefault():(t.data("submit-disabled",!0),window.setTimeout(function(){t.removeData("submit-disabled")},1500))})}function PostCssMessage(){var o=$("body");parent.postMessage({message:"css",height:o.outerHeight(),width:o.outerWidth()},"*")}function initPostCssMessage(){$(window).load(PostCssMessage),$(document).ready(PostCssMessage).ajaxError(function(){$("input.input-validation-error").change(function(){$(this).removeClass("input-validation-error")}),$(".loading").removeClass("loading"),$(".lockedByClick").removeAttr("disabled")})}function initFormFocus(){$(".form-group > .form-input").focusin(function(){$(this).parent(".form-group").addClass("is-focused")}).focusout(function(){$(this).parent(".form-group").removeClass("is-focused").toggleClass("has-value",""!==$(this).find(":input").val())}).each(function(){$(this).parent(".form-group").toggleClass("has-value",""!==$(this).find(":input").val())}),$(":input:enabled:visible:first",".page:not(.page-paymentselection)").focus()}function initToggleLocked(){$(".btn:not(.btn-toggle, .noLock)").click(function(){var o=$(this),t=o.closest("form")[0];(!o.is(":submit")||t.checkValidity&&t.checkValidity())&&(o.addClass("loading"),$(".btn, .box-language input").not(this).attr("disabled","disabled").addClass("lockedByClick"))})}function initAjaxSubmit(e,i){$("form[data-transmission=ajax]").submit(function(o){o.preventDefault();var t=$(this);isFormLocked(t,"submit")||doAjaxSubmit(t,e,i)})}function doAjaxSubmit(a,r,s){formLock(a,"submit"),formResetErrors(a);var o=a.serializeArray();o.push({name:"FromAjax",value:!0}),$.post(a.attr("action"),$.param(o)).done(function(o){window.location.href=o.RedirectUrl}).error(function(o){if(formUnlock(a,"submit"),o.responseJSON.ErrorName===r&&o.responseJSON.ErrorDetail)for(var t=0;t<o.responseJSON.ErrorDetail.length;t++){var e=o.responseJSON.ErrorDetail[t].indexOf(":"),i=$.trim(o.responseJSON.ErrorDetail[t].substring(0,e)),n=$.trim(o.responseJSON.ErrorDetail[t].substring(e+1));$("#"+i,a).addClass("input-validation-error").attr("title",n)}else window.location.href=s})}function initAjaxValidate(e,i){$("form[data-transmission=ajax]").submit(function(o){var t=$(this);t.data("ajax-action")?isFormLocked(t,"validation")?o.preventDefault():doAjaxValidate(t,e,i):o.preventDefault()})}function doAjaxValidate(i,n,a){formLock(i,"validation"),formResetErrors(i);var o=i.serializeArray();o.push({name:"FromAjax",value:!0}),$.post(i.data("ajax-action"),$.param(o)).done(function(o){formUnlock(i,"validation"),i.removeData("ajax-action")}).error(function(o){if(formUnlock(i,"validation"),e.preventDefault(),o.responseJSON.ErrorName===n&&o.responseJSON.ErrorDetail)for(var t in o.responseJSON.ErrorDetail)$("#"+o.responseJSON.ErrorDetail[t],i).addClass("input-validation-error");else window.location.href=a})}$("html").addClass("js-enabled"),$(function(){initPostCssMessage(),initFormFocus(),initToggleLocked(),preventResubmit()}),window.AgentInfo=new function(){var e=navigator.userAgent;this.isAndroid=function(){return!this.isIos()&&null!==e.match(/android/i)},this.isIos=function(){var o=null!==e.match(/iPad/i),t=!o&&(null!==e.match(/iPhone/i)||null!==e.match(/iPod/i));return o||t},this.isMobile=function(){return this.isIos()||this.isAndroid()},this.getAgent=function(){return e.toString()}},window.Clipboard=function(n,a,o){var r;return{copy:function(o){var t,e,i;console.log("Clipboard.copy() copy to clipboard:",o),t=o,(r=a.createElement("textArea")).value=t,a.body.appendChild(r),AgentInfo.isIos()?((e=a.createRange()).selectNodeContents(r),(i=n.getSelection()).removeAllRanges(),i.addRange(e),r.setSelectionRange(0,999999)):r.select(),a.execCommand("copy"),a.body.removeChild(r)}}}(window,document,navigator),null!=window.process&&"test"===window.process.env.NODE_ENV&&(module.exports={formLock:formLock,formUnlock:formUnlock,isFormLocked:isFormLocked});
//# sourceMappingURL=scripts.min.js.map